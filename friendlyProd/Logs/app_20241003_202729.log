2024-10-03 20:27:29.899 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2024-10-03 20:27:29.939 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "UserId" INTEGER NOT NULL CONSTRAINT "PK_Users" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Username" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "ProfileImageUrl" TEXT NULL
);
2024-10-03 20:27:29.939 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Posts" (
    "PostId" INTEGER NOT NULL CONSTRAINT "PK_Posts" PRIMARY KEY AUTOINCREMENT,
    "PostImagePath" TEXT NOT NULL,
    "Caption" TEXT NOT NULL,
    "PostDate" TEXT NOT NULL,
    "UserId" INTEGER NOT NULL,
    CONSTRAINT "FK_Posts_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("UserId") ON DELETE CASCADE
);
2024-10-03 20:27:29.939 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Comments" (
    "CommentId" INTEGER NOT NULL CONSTRAINT "PK_Comments" PRIMARY KEY AUTOINCREMENT,
    "CommentText" TEXT NOT NULL,
    "CommentDate" TEXT NOT NULL,
    "UserId" INTEGER NOT NULL,
    "PostId" INTEGER NOT NULL,
    CONSTRAINT "FK_Comments_Posts_PostId" FOREIGN KEY ("PostId") REFERENCES "Posts" ("PostId") ON DELETE CASCADE,
    CONSTRAINT "FK_Comments_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("UserId") ON DELETE CASCADE
);
2024-10-03 20:27:29.939 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Comments_PostId" ON "Comments" ("PostId");
2024-10-03 20:27:29.939 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Comments_UserId" ON "Comments" ("UserId");
2024-10-03 20:27:29.939 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Posts_UserId" ON "Posts" ("UserId");
2024-10-03 20:27:30.010 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u")
2024-10-03 20:27:30.066 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 10), @p2='?' (Size = 107), @p3='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Name", "ProfileImageUrl", "Username")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "UserId";
2024-10-03 20:27:30.071 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 16), @p1='?' (Size = 15), @p2='?' (Size = 92), @p3='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Name", "ProfileImageUrl", "Username")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "UserId";
2024-10-03 20:27:30.071 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 15), @p1='?' (Size = 15), @p2='?' (Size = 3), @p3='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "Name", "ProfileImageUrl", "Username")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "UserId";
2024-10-03 20:27:30.075 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Posts" AS "p")
2024-10-03 20:27:30.087 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 21), @p1='?' (Size = 20), @p2='?' (Size = 22), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Posts" ("Caption", "PostDate", "PostImagePath", "UserId")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "PostId";
2024-10-03 20:27:30.088 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 17), @p1='?' (Size = 20), @p2='?' (Size = 17), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Posts" ("Caption", "PostDate", "PostImagePath", "UserId")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "PostId";
2024-10-03 20:27:30.088 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 42), @p1='?' (Size = 20), @p2='?' (Size = 18), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Posts" ("Caption", "PostDate", "PostImagePath", "UserId")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "PostId";
2024-10-03 20:27:30.089 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Comments" AS "c")
2024-10-03 20:27:30.094 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 15), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Comments" ("CommentDate", "CommentText", "PostId", "UserId")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "CommentId";
2024-10-03 20:27:30.095 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 6), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Comments" ("CommentDate", "CommentText", "PostId", "UserId")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "CommentId";
2024-10-03 20:27:30.095 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 20), @p1='?' (Size = 21), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Comments" ("CommentDate", "CommentText", "PostId", "UserId")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "CommentId";
2024-10-03 20:27:30.123 +02:00 [INF] User profile is available. Using '/Users/axel/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-10-03 20:27:30.143 +02:00 [INF] Now listening on: http://localhost:5127
2024-10-03 20:27:30.144 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 20:27:30.145 +02:00 [INF] Hosting environment: Development
2024-10-03 20:27:30.145 +02:00 [INF] Content root path: /Users/axel/Documents/Skole/friendly
2024-10-03 20:27:30.813 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5127/Post/Table - null null
2024-10-03 20:27:30.822 +02:00 [INF] Executing endpoint 'friendly.Controllers.PostController.Table (friendly)'
2024-10-03 20:27:30.827 +02:00 [INF] Route matched with {action = "Table", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Table() on controller friendly.Controllers.PostController (friendly).
2024-10-03 20:27:30.876 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PostId", "p"."Caption", "p"."PostDate", "p"."PostImagePath", "p"."UserId"
FROM "Posts" AS "p"
2024-10-03 20:27:30.884 +02:00 [INF] Executing ViewResult, running view Table.
2024-10-03 20:27:30.919 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."Email", "u"."Name", "u"."ProfileImageUrl", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."UserId" = @__p_0
LIMIT 1
2024-10-03 20:27:30.925 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CommentId", "c"."CommentDate", "c"."CommentText", "c"."PostId", "c"."UserId"
FROM "Comments" AS "c"
WHERE "c"."PostId" = @__p_0
2024-10-03 20:27:30.927 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."Email", "u"."Name", "u"."ProfileImageUrl", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."UserId" = @__p_0
LIMIT 1
2024-10-03 20:27:30.930 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CommentId", "c"."CommentDate", "c"."CommentText", "c"."PostId", "c"."UserId"
FROM "Comments" AS "c"
WHERE "c"."PostId" = @__p_0
2024-10-03 20:27:30.931 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CommentId", "c"."CommentDate", "c"."CommentText", "c"."PostId", "c"."UserId"
FROM "Comments" AS "c"
WHERE "c"."PostId" = @__p_0
2024-10-03 20:27:30.938 +02:00 [INF] Executed ViewResult - view Table executed in 54.4797ms.
2024-10-03 20:27:30.939 +02:00 [INF] Executed action friendly.Controllers.PostController.Table (friendly) in 111.9682ms
2024-10-03 20:27:30.939 +02:00 [INF] Executed endpoint 'friendly.Controllers.PostController.Table (friendly)'
2024-10-03 20:27:30.943 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5127/Post/Table - 200 null text/html; charset=utf-8 130.4762ms
2024-10-03 20:27:31.817 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5127/Post/Grid - null null
2024-10-03 20:27:31.820 +02:00 [INF] Executing endpoint 'friendly.Controllers.PostController.Grid (friendly)'
2024-10-03 20:27:31.824 +02:00 [INF] Route matched with {action = "Grid", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Grid() on controller friendly.Controllers.PostController (friendly).
2024-10-03 20:27:31.859 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PostId", "p"."Caption", "p"."PostDate", "p"."PostImagePath", "p"."UserId"
FROM "Posts" AS "p"
2024-10-03 20:27:31.860 +02:00 [INF] Executing ViewResult, running view Grid.
2024-10-03 20:27:31.873 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."Email", "u"."Name", "u"."ProfileImageUrl", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."UserId" = @__p_0
LIMIT 1
2024-10-03 20:27:31.874 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CommentId", "c"."CommentDate", "c"."CommentText", "c"."PostId", "c"."UserId"
FROM "Comments" AS "c"
WHERE "c"."PostId" = @__p_0
2024-10-03 20:27:31.875 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."Email", "u"."Name", "u"."ProfileImageUrl", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."UserId" = @__p_0
LIMIT 1
2024-10-03 20:27:31.876 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CommentId", "c"."CommentDate", "c"."CommentText", "c"."PostId", "c"."UserId"
FROM "Comments" AS "c"
WHERE "c"."PostId" = @__p_0
2024-10-03 20:27:31.876 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CommentId", "c"."CommentDate", "c"."CommentText", "c"."PostId", "c"."UserId"
FROM "Comments" AS "c"
WHERE "c"."PostId" = @__p_0
2024-10-03 20:27:31.877 +02:00 [INF] Executed ViewResult - view Grid executed in 17.5537ms.
2024-10-03 20:27:31.877 +02:00 [INF] Executed action friendly.Controllers.PostController.Grid (friendly) in 53.666ms
2024-10-03 20:27:31.878 +02:00 [INF] Executed endpoint 'friendly.Controllers.PostController.Grid (friendly)'
2024-10-03 20:27:31.878 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5127/Post/Grid - 200 null text/html; charset=utf-8 60.8413ms
2024-10-03 20:27:33.700 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5127/Post/Create - null null
2024-10-03 20:27:33.701 +02:00 [INF] Executing endpoint 'friendly.Controllers.PostController.Create (friendly)'
2024-10-03 20:27:33.703 +02:00 [INF] Route matched with {action = "Create", controller = "Post"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller friendly.Controllers.PostController (friendly).
2024-10-03 20:27:33.707 +02:00 [INF] Executing ViewResult, running view Create.
2024-10-03 20:27:33.737 +02:00 [INF] Executed ViewResult - view Create executed in 31.4688ms.
2024-10-03 20:27:33.738 +02:00 [INF] Executed action friendly.Controllers.PostController.Create (friendly) in 34.5464ms
2024-10-03 20:27:33.738 +02:00 [INF] Executed endpoint 'friendly.Controllers.PostController.Create (friendly)'
2024-10-03 20:27:33.738 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5127/Post/Create - 200 null text/html; charset=utf-8 38.0705ms
2024-10-03 20:27:35.407 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5127/Post/Create - multipart/form-data; boundary=----WebKitFormBoundaryNq2ZBi4LLdE1IwO7 752
2024-10-03 20:27:35.409 +02:00 [INF] Executing endpoint 'friendly.Controllers.PostController.Create (friendly)'
2024-10-03 20:27:35.430 +02:00 [INF] Route matched with {action = "Create", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(friendly.Models.Post, Microsoft.AspNetCore.Http.IFormFile) on controller friendly.Controllers.PostController (friendly).
2024-10-03 20:27:35.455 +02:00 [WRN] [PostController] Post creation failed {"PostId":0,"PostImagePath":null,"Caption":null,"PostDate":"10/3/2024 8:27:35 PM","UserId":0,"User":null,"Comments":null,"$type":"Post"}
2024-10-03 20:27:35.455 +02:00 [INF] Executing ViewResult, running view Create.
2024-10-03 20:27:35.457 +02:00 [INF] Executed ViewResult - view Create executed in 1.8946ms.
2024-10-03 20:27:35.457 +02:00 [INF] Executed action friendly.Controllers.PostController.Create (friendly) in 27.133ms
2024-10-03 20:27:35.457 +02:00 [INF] Executed endpoint 'friendly.Controllers.PostController.Create (friendly)'
2024-10-03 20:27:35.458 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5127/Post/Create - 200 null text/html; charset=utf-8 50.2344ms
2024-10-03 20:27:36.401 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5127/Post/Table - null null
2024-10-03 20:27:36.402 +02:00 [INF] Executing endpoint 'friendly.Controllers.PostController.Table (friendly)'
2024-10-03 20:27:36.402 +02:00 [INF] Route matched with {action = "Table", controller = "Post"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Table() on controller friendly.Controllers.PostController (friendly).
2024-10-03 20:27:36.403 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."PostId", "p"."Caption", "p"."PostDate", "p"."PostImagePath", "p"."UserId"
FROM "Posts" AS "p"
2024-10-03 20:27:36.404 +02:00 [INF] Executing ViewResult, running view Table.
2024-10-03 20:27:36.406 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."Email", "u"."Name", "u"."ProfileImageUrl", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."UserId" = @__p_0
LIMIT 1
2024-10-03 20:27:36.407 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CommentId", "c"."CommentDate", "c"."CommentText", "c"."PostId", "c"."UserId"
FROM "Comments" AS "c"
WHERE "c"."PostId" = @__p_0
2024-10-03 20:27:36.408 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."UserId", "u"."Email", "u"."Name", "u"."ProfileImageUrl", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."UserId" = @__p_0
LIMIT 1
2024-10-03 20:27:36.409 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CommentId", "c"."CommentDate", "c"."CommentText", "c"."PostId", "c"."UserId"
FROM "Comments" AS "c"
WHERE "c"."PostId" = @__p_0
2024-10-03 20:27:36.410 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."CommentId", "c"."CommentDate", "c"."CommentText", "c"."PostId", "c"."UserId"
FROM "Comments" AS "c"
WHERE "c"."PostId" = @__p_0
2024-10-03 20:27:36.411 +02:00 [INF] Executed ViewResult - view Table executed in 6.7645ms.
2024-10-03 20:27:36.411 +02:00 [INF] Executed action friendly.Controllers.PostController.Table (friendly) in 8.8305ms
2024-10-03 20:27:36.411 +02:00 [INF] Executed endpoint 'friendly.Controllers.PostController.Table (friendly)'
2024-10-03 20:27:36.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5127/Post/Table - 200 null text/html; charset=utf-8 9.8632ms
2024-10-03 20:28:15.802 +02:00 [INF] Application is shutting down...
